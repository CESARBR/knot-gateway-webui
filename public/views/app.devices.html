<form name='myForm' ng-submit="add()">
  <h3 class="text-muted">Allowed devices</h3>
  <table id="tDevices" ng-init="init()" style="width:100%">
    <tr>
      <th>Device Name</th>
      <th>MAC Address</th>
    </tr>
    <tr ng-repeat="key in macAddresses.keys">
      <td>{{ key.name }}</td><td>{{ key.mac }}</td>
      <td>
        <button class="btn btn-default" ng-click='remove(key)'>
        <span class="glyphicon glyphicon-plus">Remove</span>
      </button>
      </td>
    </tr>
    <tr>
      <td><input type="text" id="newkey" ng-model="form.name" placeholder="New name"  required></td>
      <td>
        <input type="text" id="newMac" ng-model="form.mac" name = 'newMac' placeholder="New MAC" ng-pattern="/^([0-9A-Fa-f]{2}[:-]){7}([0-9A-Fa-f]{2})/" required mask="%%:%%:%%:%%:%%:%%:%%:%%">
        <br>
        <span ng-show="myForm.newMac.$error.pattern" style="color:red">Invalid MAC</span>
      </td>
      <td>
        <button ng-disabled="myForm.$invalid" class="btn btn-lg btn-primary btn-block" type="submit" ng-click="Submit">
        <span class="glyphicon glyphicon-plus">Add</span>
      </button>
      </td>
    </tr>
  </table>
  <br/>
  <h3 class="text-muted">Nearby devices</h3>
    <table id="tDevices" style="width:100%">
    <tr>
      <th>Device Name</th>
      <th>MAC Address</th>
    </tr>
    <tr ng-repeat="peer in devices">
      <td>{{ peer.name }}</td><td>{{ peer.mac }}</td>
    </tr>
  </table>
</form>
